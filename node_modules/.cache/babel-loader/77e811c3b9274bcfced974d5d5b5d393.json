{"remainingRequest":"E:\\Workspace\\Date-Project\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\Date-Project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Workspace\\Date-Project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\Date-Project\\src\\components\\page\\QueryUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\Date-Project\\src\\components\\page\\QueryUser.vue","mtime":1552091061788},{"path":"E:\\Workspace\\Date-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"E:\\\\Workspace\\\\Date-Project\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'queryuser',\n  data: function data() {\n    return {\n      url: './vuetable.json',\n      tableData: [],\n      cur_page: 1,\n      multipleSelection: [],\n      select_cate: '',\n      select_word: '',\n      del_list: [],\n      is_search: false,\n      editVisible: false,\n      delVisible: false,\n      form: {\n        username: '',\n        birthdate: '',\n        address: ''\n      },\n      idx: -1\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  computed: {\n    data: function data() {\n      var _this = this;\n\n      return this.tableData.filter(function (d) {\n        var is_del = false;\n\n        for (var i = 0; i < _this.del_list.length; i++) {\n          if (d.username === _this.del_list[i].username) {\n            is_del = true;\n            break;\n          }\n        }\n\n        if (!is_del) {\n          if (d.username.indexOf(_this.select_word) > -1 || d.address.indexOf(_this.select_word) > -1 || d.birthdate.indexOf(_this.select_word) > -1) {\n            return d;\n          }\n        }\n      });\n    }\n  },\n  methods: {\n    // 分页导航\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.cur_page = val;\n      this.getData();\n    },\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this2 = this;\n\n      // 开发环境使用 easy-mock 数据，正式环境使用 json 文件\n      if (process.env.NODE_ENV === 'development') {\n        // this.url = '/ms/query/list';\n        this.url = 'https://www.easy-mock.com/mock/5c6c0a072be418020f2f8198/example/ms/query/list';\n      }\n\n      ;\n      this.$axios.post(this.url, {\n        page: this.cur_page\n      }).then(function (res) {\n        _this2.tableData = res.data.list;\n      });\n    },\n    search: function search() {\n      this.is_search = true;\n    },\n    formatter: function formatter(row, column) {\n      return row.address;\n    },\n    filterTag: function filterTag(value, row) {\n      return row.tag === value;\n    },\n    handleEdit: function handleEdit(index, row) {\n      this.idx = index;\n      var item = this.tableData[index];\n      this.form = {\n        name: item.name,\n        date: item.date,\n        address: item.address\n      };\n      this.editVisible = true;\n    },\n    handleDelete: function handleDelete(index, row) {\n      this.idx = index;\n      this.delVisible = true;\n      alert(_JSON$stringify(row.username));\n    },\n    delAll: function delAll() {\n      var length = this.multipleSelection.length;\n      var str = '';\n      this.del_list = this.del_list.concat(this.multipleSelection);\n\n      for (var i = 0; i < length; i++) {\n        str += this.multipleSelection[i].name + ' ';\n      }\n\n      this.$message.error('删除了' + str);\n      this.multipleSelection = [];\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      this.$set(this.tableData, this.idx, this.form);\n      this.editVisible = false;\n      this.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(this.idx + 1, \" \\u884C\\u6210\\u529F\"));\n    },\n    // 确定删除\n    deleteRow: function deleteRow() {\n      this.tableData.splice(this.idx, 1);\n      this.$message.success('删除成功');\n      this.delVisible = false;\n      axios.post('/user', {\n        birthday: form.birthday,\n        education: form.education,\n        mobile: form.mobile,\n        birthlocation: form.birthlocation,\n        address: form.address,\n        jobtitle: form.jobtitle,\n        company: form.company,\n        salary: form.salary,\n        housenumber: form.housenumber,\n        hobby: form.hobby,\n        divorce: form.divorce,\n        child: form.child,\n        car: form.car,\n        tdivorce: form.tdivorce,\n        tcar: form.tcar,\n        tlocal: form.tlocal,\n        tchild: form.tchild,\n        thouse: form.thouse,\n        tsalary: form.tsalary,\n        teducation: form.teducation,\n        tbirthmin: form.tbirthmin,\n        tbirthmax: form.tbirthmax,\n        requirement: form.requirement,\n        tdivorce_p: form.tdivorce_p,\n        tchild_p: form.tchild_p,\n        tlocal_p: form.tlocal_p,\n        tcar_p: form.tcar_p,\n        thouse_p: form.thouse_p,\n        tsalary_p: form.tsalary_p,\n        teducation_p: form.teducation_p,\n        tbirth_p: form.tbirth_p,\n        requirement_p: form.requirement_p,\n        character: form.character\n      }).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    aiSearch: function aiSearch() {\n      this.$router.push({\n        name: 'QueryResult',\n        params: {\n          cal: 'ais'\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["QueryUser.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 查询用户</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-button type=\"primary\" icon=\"delete\" class=\"handle-del mr10\" @click=\"delAll\">批量删除</el-button>\r\n\t\t\t\t<el-input v-model=\"select_word\" placeholder=\"筛选关键词\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table :data=\"data\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"22\">\r\n\t\t\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"性别\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.usersex }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"出生地\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.birthlocation }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"职位\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.jobtitle }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"联系方式\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.mobile }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"年薪\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.salary }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"房产数量\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.housenumber }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"个人爱好\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.hobby }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"是否离异\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ props.row.divorce }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"个性描述\"> <span>{{ props.row.charactor }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<el-form-item label=\"相亲要求\"> <span>{{ props.row.requirement }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"2\">\r\n\t\t\t\t\t\t\t\t\t<el-button class=ai-search size='small' type=\"success\" @click=\"aiSearch\">进行AI匹配</el-button>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"birthdate\" label=\"出生日期\" sortable width=\"150\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"username\" label=\"姓名\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"address\" label=\"住址\" :formatter=\"formatter\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination background @current-change=\"handleCurrentChange\" layout=\"prev, pager, next\" :total=\"1000\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 编辑弹出框 -->\r\n\t\t<el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"40%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n\t\t\t\t<el-form-item label=\"姓名\" width=\"40%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.username\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"居住地\" width=\"40%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.address\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"性别\">\r\n\t\t\t\t\t<el-select v-model=\"form.usersex\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t<el-option key=\"male\" label=\"男\" value=\"male\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"female\" label=\"女\" value=\"female\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"出生日期\">\r\n\t\t\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date1\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"出生地\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.birthlocation\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"职位\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.jobtitle\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"公司名称\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.worklocation\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"年薪\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.salary\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"房产数量\">\r\n\t\t\t\t\t<el-select v-model=\"form.housenumber\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t<el-option key=\"1\" label=\"1\" value=\"1\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"2\" label=\"2\" value=\"2\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"3\" label=\"3\" value=\"3\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"4\" label=\"4\" value=\"4\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"5\" label=\"5\" value=\"5\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"5+\" label=\"多于5套\" value=\"5+\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"个人爱好\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.hobby\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item width=\"30%\" label=\"是否离异\">\r\n\t\t\t\t\t<el-switch v-model=\"form.divorce\"></el-switch>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"个性描述\">\r\n\t\t\t\t\t<el-input type=\"textarea\" rows=\"5\" v-model=\"form.charactor\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"相亲要求\">\r\n\t\t\t\t\t<el-input type=\"textarea\" rows=\"5\" v-model=\"form.requirement\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"editVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 删除提示框 -->\r\n\t\t<el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n\t\t\t<div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"delVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<style>\r\n\t.demo-table-expand {\r\n\t\tfont-size: 0;\r\n\t}\r\n\r\n\t.demo-table-expand label {\r\n\t\twidth: 90px;\r\n\t\tcolor: #99a9bf;\r\n\t}\r\n\r\n\t.demo-table-expand .el-form-item {\r\n\t\tmargin-right: 0;\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding-left: 60px;\r\n\t\twidth: 50%;\r\n\t}\r\n\t\r\n\t.ai-search {\r\n\t\tdisplay: block;\r\n\t\tmargin-left: 1.125rem;\r\n\t\tmargin-top: 3.75rem\r\n\t}\r\n</style>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'queryuser',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turl: './vuetable.json',\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcur_page: 1,\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tselect_cate: '',\r\n\t\t\t\tselect_word: '',\r\n\t\t\t\tdel_list: [],\r\n\t\t\t\tis_search: false,\r\n\t\t\t\teditVisible: false,\r\n\t\t\t\tdelVisible: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tbirthdate: '',\r\n\t\t\t\t\taddress: ''\r\n\t\t\t\t},\r\n\t\t\t\tidx: -1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tdata() {\r\n\t\t\t\treturn this.tableData.filter((d) => {\r\n\t\t\t\t\tlet is_del = false;\r\n\t\t\t\t\tfor (let i = 0; i < this.del_list.length; i++) {\r\n\t\t\t\t\t\tif (d.username === this.del_list[i].username) {\r\n\t\t\t\t\t\t\tis_del = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!is_del) {\r\n\t\t\t\t\t\tif (d.username.indexOf(this.select_word) > -1 ||\r\n\t\t\t\t\t\t\td.address.indexOf(this.select_word) > -1 ||\r\n\t\t\t\t\t\t\td.birthdate.indexOf(this.select_word) > -1) {\r\n\t\t\t\t\t\t\treturn d;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 分页导航\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.cur_page = val;\r\n\t\t\t\tthis.getData();\r\n\t\t\t},\r\n\t\t\t// 获取 easy-mock 的模拟数据\r\n\t\t\tgetData() {\r\n\t\t\t\t// 开发环境使用 easy-mock 数据，正式环境使用 json 文件\r\n\t\t\t\tif (process.env.NODE_ENV === 'development') {\r\n\t\t\t\t\t// this.url = '/ms/query/list';\r\n\t\t\t\t\tthis.url = 'https://www.easy-mock.com/mock/5c6c0a072be418020f2f8198/example/ms/query/list';\r\n\t\t\t\t};\r\n\t\t\t\tthis.$axios.post(this.url, {\r\n\t\t\t\t\tpage: this.cur_page\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.tableData = res.data.list;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.is_search = true;\r\n\t\t\t},\r\n\t\t\tformatter(row, column) {\r\n\t\t\t\treturn row.address;\r\n\t\t\t},\r\n\t\t\tfilterTag(value, row) {\r\n\t\t\t\treturn row.tag === value;\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tthis.idx = index;\r\n\t\t\t\tconst item = this.tableData[index];\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\tname: item.name,\r\n\t\t\t\t\tdate: item.date,\r\n\t\t\t\t\taddress: item.address\r\n\t\t\t\t}\r\n\t\t\t\tthis.editVisible = true;\r\n\t\t\t},\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\tthis.idx = index;\r\n\t\t\t\tthis.delVisible = true;\r\n\t\t\t\talert(JSON.stringify(row.username));\r\n\t\t\t},\r\n\t\t\tdelAll() {\r\n\t\t\t\tconst length = this.multipleSelection.length;\r\n\t\t\t\tlet str = '';\r\n\t\t\t\tthis.del_list = this.del_list.concat(this.multipleSelection);\r\n\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\tstr += this.multipleSelection[i].name + ' ';\r\n\t\t\t\t}\r\n\t\t\t\tthis.$message.error('删除了' + str);\r\n\t\t\t\tthis.multipleSelection = [];\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t},\r\n\t\t\t// 保存编辑\r\n\t\t\tsaveEdit() {\r\n\t\t\t\tthis.$set(this.tableData, this.idx, this.form);\r\n\t\t\t\tthis.editVisible = false;\r\n\t\t\t\tthis.$message.success(`修改第 ${this.idx+1} 行成功`);\r\n\t\t\t},\r\n\t\t\t// 确定删除\r\n\t\t\tdeleteRow() {\r\n\t\t\t\tthis.tableData.splice(this.idx, 1);\r\n\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\tthis.delVisible = false;\r\n\t\t\t\taxios.post('/user', {\r\n\t\t\t\t\t\tbirthday: form.birthday,\r\n\t\t\t\t\t\teducation: form.education,\r\n\t\t\t\t\t\tmobile: form.mobile,\r\n\t\t\t\t\t\tbirthlocation: form.birthlocation,\r\n\t\t\t\t\t\taddress: form.address,\r\n\t\t\t\t\t\tjobtitle: form.jobtitle,\r\n\t\t\t\t\t\tcompany: form.company,\r\n\t\t\t\t\t\tsalary: form.salary,\r\n\t\t\t\t\t\thousenumber: form.housenumber,\r\n\t\t\t\t\t\thobby: form.hobby,\r\n\t\t\t\t\t\tdivorce: form.divorce,\r\n\t\t\t\t\t\tchild: form.child,\r\n\t\t\t\t\t\tcar: form.car,\r\n\t\t\t\t\t\ttdivorce: form.tdivorce,\r\n\t\t\t\t\t\ttcar: form.tcar,\r\n\t\t\t\t\t\ttlocal: form.tlocal,\r\n\t\t\t\t\t\ttchild: form.tchild,\r\n\t\t\t\t\t\tthouse: form.thouse,\r\n\t\t\t\t\t\ttsalary: form.tsalary,\r\n\t\t\t\t\t\tteducation: form.teducation,\r\n\t\t\t\t\t\ttbirthmin: form.tbirthmin,\r\n\t\t\t\t\t\ttbirthmax: form.tbirthmax,\r\n\t\t\t\t\t\trequirement: form.requirement,\r\n\t\t\t\t\t\ttdivorce_p: form.tdivorce_p,\r\n\t\t\t\t\t\ttchild_p: form.tchild_p,\r\n\t\t\t\t\t\ttlocal_p: form.tlocal_p,\r\n\t\t\t\t\t\ttcar_p: form.tcar_p,\r\n\t\t\t\t\t\tthouse_p: form.thouse_p,\r\n\t\t\t\t\t\ttsalary_p: form.tsalary_p,\r\n\t\t\t\t\t\tteducation_p: form.teducation_p,\r\n\t\t\t\t\t\ttbirth_p: form.tbirth_p,\r\n\t\t\t\t\t\trequirement_p: form.requirement_p,\r\n\t\t\t\t\t\tcharacter: form.character\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taiSearch(){\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'QueryResult',\r\n\t\t\t\t\tparams: { cal: 'ais' }\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.handle-box {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.handle-select {\r\n\t\twidth: 120px;\r\n\t}\r\n\r\n\t.handle-input {\r\n\t\twidth: 300px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.del-dialog-cnt {\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: center\r\n\t}\r\n\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.red {\r\n\t\tcolor: #ff0000;\r\n\t}\r\n\r\n\t.mr10 {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src\\components\\page"}]}