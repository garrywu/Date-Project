{"remainingRequest":"E:\\Workspace\\Date-Project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\Date-Project\\src\\components\\page\\DateManagement.vue?vue&type=style&index=1&id=0f2f9bd1&scoped=true&lang=css&","dependencies":[{"path":"E:\\Workspace\\Date-Project\\src\\components\\page\\DateManagement.vue","mtime":1552092192917},{"path":"E:\\Workspace\\Date-Project\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Workspace\\Date-Project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.handle-box {\n\tmargin-bottom: 20px;\n}\n\n.handle-select {\n\twidth: 120px;\n}\n\n.handle-input {\n\twidth: 300px;\n\tdisplay: inline-block;\n}\n\n.del-dialog-cnt {\n\tfont-size: 16px;\n\ttext-align: center\n}\n\n.table {\n\twidth: 100%;\n\tfont-size: 14px;\n}\n\n.red {\n\tcolor: #ff0000;\n}\n\n.mr10 {\n\tmargin-right: 10px;\n}\n",{"version":3,"sources":["DateManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqUA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"DateManagement.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 查询用户</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-input v-model=\"select_word\" placeholder=\"筛选关键词\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"add\" class=\"handle-del mr10\" @click=\"handleAdd()\">新增记录</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table :data=\"data\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mmname\" label=\"男方姓名\" sortable width=\"150\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mfname\" label=\"女方姓名\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mmmobile\" label=\"男方手机\" sortable width=\"150\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mfmobile\" label=\"女方手机\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mstarttime\" label=\"起始时间\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mendtime\" label=\"终止时间\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"datestatus\" label=\"相亲状态\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination background @current-change=\"handleCurrentChange\" layout=\"prev, pager, next\" :total=\"1000\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<el-dialog title=\"新增记录\" :visible.sync=\"addVisible\" width=\"30%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n\t\t\t\t<el-form-item label=\"男方姓名\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mmname\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"女方姓名\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mfname\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"男方手机\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mmmobile\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"女方手机\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mfmobile\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"起始时间\" width=\"20%\">\r\n\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.mstarttime\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"终止时间\" width=\"20%\">\r\n\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.mendtime\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"相亲状态\">\r\n\t\t\t\t\t<el-select v-model=\"form.datestatus\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t<el-option key=\"active\" label=\"进行中\" value=\"active\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"failed\" label=\"失败\" value=\"failed\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"success\" label=\"成功\" value=\"success\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 编辑弹出框 -->\r\n\t\t<el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"30%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n\t\t\t\t<el-form-item label=\"男方姓名\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mmname\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"女方姓名\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mfname\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"男方手机\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mmmobile\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"女方手机\" width=\"20%\">\r\n\t\t\t\t\t<el-input width=\"30%\" v-model=\"form.mfmobile\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"起始时间\" width=\"20%\">\r\n\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.mstarttime\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"终止时间\" width=\"20%\">\r\n\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.mendtime\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"相亲状态\">\r\n\t\t\t\t\t<el-select v-model=\"form.datestatus\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t<el-option key=\"active\" label=\"进行中\" value=\"active\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"failed\" label=\"失败\" value=\"failed\"></el-option>\r\n\t\t\t\t\t\t<el-option key=\"success\" label=\"成功\" value=\"success\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"editVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 删除提示框 -->\r\n\t\t<el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n\t\t\t<div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"delVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<style>\r\n\t.demo-table-expand {\r\n\t\tfont-size: 0;\r\n\t}\r\n\r\n\t.demo-table-expand label {\r\n\t\twidth: 90px;\r\n\t\tcolor: #99a9bf;\r\n\t}\r\n\r\n\t.demo-table-expand .el-form-item {\r\n\t\tmargin-right: 0;\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding-left: 60px;\r\n\t\twidth: 50%;\r\n\t}\r\n\r\n\t.ai-search {\r\n\t\tdisplay: block;\r\n\t\tmargin-left: 1.125rem;\r\n\t\tmargin-top: 3.75rem\r\n\t}\r\n</style>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'datemanagement',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//url: './vuetable.json',\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcur_page: 1,\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tselect_cate: '',\r\n\t\t\t\tselect_word: '',\r\n\t\t\t\tdel_list: [],\r\n\t\t\t\tis_search: false,\r\n\t\t\t\teditVisible: false,\r\n\t\t\t\tdelVisible: false,\r\n\t\t\t\taddVisible: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tmmname: '',\r\n\t\t\t\t\tmfname: '',\r\n\t\t\t\t\tmmmobile:'',\r\n\t\t\t\t\tmfmobile:'',\r\n\t\t\t\t\tmstarttime: '',\r\n\t\t\t\t\tmendtime: '',\r\n\t\t\t\t\tdatestatus: ''\r\n\t\t\t\t},\r\n\t\t\t\tidx: -1,\r\n\t\t\t\tdelmmname:'',\r\n\t\t\t\tdelmfname:'',\r\n\t\t\t\tdelmmmobile:'',\r\n\t\t\t\tdelmfmobile:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.aiAdd();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tdata() {\r\n\t\t\t\treturn this.tableData.filter((d) => {\r\n\t\t\t\t\tlet is_del = false;\r\n\t\t\t\t\tfor (let i = 0; i < this.del_list.length; i++) {\r\n\t\t\t\t\t\tif (d.mmname === this.del_list[i].mmname) {\r\n\t\t\t\t\t\t\tis_del = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!is_del) {\r\n\t\t\t\t\t\tif (d.mmname.indexOf(this.select_word) > -1 ||\r\n\t\t\t\t\t\t\td.mfname.indexOf(this.select_word) > -1 ||\r\n\t\t\t\t\t\t\td.datestatus.indexOf(this.select_word) > -1) {\r\n\t\t\t\t\t\t\treturn d;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 分页导航\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.cur_page = val;\r\n\t\t\t\tthis.getData();\r\n\t\t\t},\r\n\t\t\t// 获取 easy-mock 的模拟数据\r\n\t\t\tgetData() {\r\n\t\t\t\t// 开发环境使用 easy-mock 数据，正式环境使用 json 文件\r\n\t\t\t\tif (process.env.NODE_ENV === 'development') {\r\n\t\t\t\t\t// this.url = '/ms/query/list';\r\n\t\t\t\t\tthis.url = 'https://www.easy-mock.com/mock/5c6c0a072be418020f2f8198/example/ms/query/date';\r\n\t\t\t\t};\r\n\t\t\t\tthis.$axios.post(this.url, {\r\n\t\t\t\t\tpage: this.cur_page\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.tableData = res.data.date;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.is_search = true;\r\n\t\t\t},\r\n\t\t\tformatter(row, column) {\r\n\t\t\t\treturn row.address;\r\n\t\t\t},\r\n\t\t\tfilterTag(value, row) {\r\n\t\t\t\treturn row.tag === value;\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tthis.idx = index;\r\n\t\t\t\tconst item = this.tableData[index];\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\tmmname: row.mmname,\r\n\t\t\t\t\tmfname: row.mfname,\r\n\t\t\t\t\tmmmobile:row.mmmobile,\r\n\t\t\t\t\tmfmobile:row.mfmobile,\r\n\t\t\t\t\tmstarttime: row.mstarttime,\r\n\t\t\t\t\tmendtime: row.mendtime,\r\n\t\t\t\t\tdatestatus: row.datestatus\r\n\t\t\t\t}\r\n\t\t\t\tthis.editVisible = true;\r\n\t\t\t},\r\n\t\t\thandleAdd() {\r\n\t\t\t\tthis.addVisible = true;\r\n\t\t\t},\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\tthis.idx = index;\r\n\t\t\t\tthis.delVisible = true;\r\n\t\t\t\tdelmmname = row.mmname;\r\n\t\t\t\tdelmfname = row.mfname;\r\n\t\t\t\tdelmmmobile = row.mmmobile;\r\n\t\t\t\tdelmfmobile = row.mfmobile;\r\n\t\t\t},\r\n// \t\t\tdelAll() {\r\n// \t\t\t\tconst length = this.multipleSelection.length;\r\n// \t\t\t\tlet str = '';\r\n// \t\t\t\tthis.del_list = this.del_list.concat(this.multipleSelection);\r\n// \t\t\t\tfor (let i = 0; i < length; i++) {\r\n// \t\t\t\t\tstr += this.multipleSelection[i].name + ' ';\r\n// \t\t\t\t}\r\n// \t\t\t\tthis.$message.error('删除了' + str);\r\n// \t\t\t\tthis.multipleSelection = [];\r\n// \t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t},\r\n\t\t\t// 保存编辑\r\n\t\t\tsaveEdit() {\r\n\t\t\t\tthis.$set(this.tableData, this.idx, this.form);\r\n\t\t\t\tthis.editVisible = false;\r\n\t\t\t\taxios.post('/user', {\r\n\t\t\t\t\t\tmmname: form.mmname,\r\n\t\t\t\t\t\tmfname: form.mfname,\r\n\t\t\t\t\t\tmmmobile:form.mmmobile,\r\n\t\t\t\t\t\tmfmobile:form.mfmobile,\r\n\t\t\t\t\t\tmstarttime: form.mstarttime,\r\n\t\t\t\t\t\tmendtime: form.mendtime,\r\n\t\t\t\t\t\tdatestatus: form.datestatus\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.$message.success(`修改第 ${this.idx+1} 行成功`);\r\n\t\t\t},\r\n\t\t\t// 确定删除\r\n\t\t\tdeleteRow() {\r\n\t\t\t\tthis.tableData.splice(this.idx, 1);\r\n\t\t\t\taxios.post('/user', {\r\n\t\t\t\t\t\tmmname: delmmname,\r\n\t\t\t\t\t\tmfname: delmfname,\r\n\t\t\t\t\t\tmmmobile:delmmmobile,\r\n\t\t\t\t\t\tmfmobile:delmfmobile\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\tthis.delVisible = false;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\taiAdd() {\r\n\t\t\t\tif(this.$route.params.mname){\r\n\t\t\t\t\tthis.addVisible = true;\r\n\t\t\t\t\tthis.form.mmname = this.$route.params.mname;\r\n\t\t\t\t\tthis.form.mfname = this.$route.params.fname;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.handle-box {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.handle-select {\r\n\t\twidth: 120px;\r\n\t}\r\n\r\n\t.handle-input {\r\n\t\twidth: 300px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.del-dialog-cnt {\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: center\r\n\t}\r\n\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.red {\r\n\t\tcolor: #ff0000;\r\n\t}\r\n\r\n\t.mr10 {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n</style>\n"]}]}